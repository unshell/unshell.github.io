function createStyle(){if(document.getElementById(styleId))return!0;const e=document.createElement("style");e.id=styleId;const o=`\n        .${fullscreenClass} {\n            position: absolute !important;\n            top: 0 !important;\n            left: 0 !important;\n            right: 0 !important;\n            bottom: 0 !important;\n            margin: 0 !important;\n            padding: 0 !important;\n            z-index: 1997 !important;\n            width: 100vw !important;\n            height: 100vh !important;\n            max-width: none !important;\n            max-height: none !important;\n            transform: none !important;\n            border-radius: 0 !important;\n        }\n    `;e.appendChild(document.createTextNode(o)),document.head.appendChild(e)}function toggleFullScreen(){var e=[".webfullscreenBtn i",'[aria-label="网页全屏"]',".xgplayer-page-full-screen .xgplayer-icon",".player-buttons_videofullBtn__\\+Euuz"],o=document.body.querySelector(e.join(","));if(o&&o.click)throw o.click(),new Error("已存在网页全屏功能");document.body.querySelector(`.${fullscreenClass}`)&&(document.body.querySelectorAll(`.${fullscreenClass}`).forEach(e=>e.classList.remove(fullscreenClass)),document.body.querySelectorAll("[fish-ads-original-display]").forEach(e=>{var o=e.getAttribute("fish-ads-original-display");"none"!==o&&(e.removeAttribute("fish-ads-original-display"),e.style.display=o)}),document.body.style.height="auto",document.body.style.overflow="visible");var t={"pan.quark.cn":".video-container","pan.baidu.com":".vp-video","v.youku.com":".player-container","www.hhkan4.com":".play-box-main","vidhub.tv":".MacPlayer"}[location.host];return t}function hideOtherDocument(e){if(!(!e instanceof HTMLElement||"BODY"===e.tagName)){e.classList.add(fullscreenClass);for(let o=0,t=e.parentElement.children;o<t.length;o++){const n=t[o],i=window.getComputedStyle(n).display||"";n!==e&&(["STYLE","SCRIPT","LINK"].includes(n.tagName)||"none"!==i&&(n.classList.contains(fullscreenClass)||(n.setAttribute("fish-ads-original-display",i),n.style.display="none")))}e.parentElement&&hideOtherDocument(e.parentElement)}}function topVideo(e){e=e||toggleFullScreen();var o=findValidVideo(e);if(!o){if("pan.baidu.com"===location.host)throw circulator(500,1,topVideo),new Error("No video found");throw"iframe"!==e&&circulator(500,1,()=>topVideo("iframe")),new Error("No video found")}hideOtherDocument(o)}function findValidVideo(e){const o=document.body.querySelectorAll(e||"video");if(console.log("allVideos",o),o.length>0){const e=Array.from(o).filter(e=>{const o=e.getAttribute("src");return"IFRAME"!==e.tagName&&"VIDEO"!==e.tagName||("pan.baidu.com"===location.host?"vjs_video_3_html5_api"!==e.id:o&&""!==o.trim()&&!o.toLowerCase().includes("unknown"))});if(console.log("validVideos",e),e.length>0)return e[0]}}function handleSpecialWebsite(){if("www.douyin.com"===location.host){var e=function(){var o=findValidVideo(),t=[".xgplayer-listen-video",".xgplayer-picture-in-picture-setting",".xgplayer-fullscreen"];o.onpause=e,circulator(500,10,()=>{document.body.querySelectorAll(t.join(",")).forEach(e=>e.remove())},"remove-douyin-elements")};document.body.querySelectorAll(".fullscreen_capture_feedback").forEach(e=>e.style.removeProperty("min-height")),e()}if("www.iqiyi.com"===location.host){var o=[".xplayer_root__HlX4a",".XPlayer_root__eWzab",".iqp-player.use-pc-bridge","#outlayer"];document.body.querySelectorAll(o.join(",").forEach(e=>e.style.minWidth="auto"))}}function circulator(e,o,t,n){function i(){o<=0||t&&t()||(console.log(`${n}-loop...`,o),o--,setTimeout(i,e))}void 0!==t&&"function"==typeof t&&(n||(n="unknown"),setTimeout(i,e))}var prefix="fish-ads-",styleId=prefix+"dynamic-style",fullscreenClass=prefix+"video-fullscreen";console.clear(),console.log("\n  ___ __         __               __ \n.'  _|__|.-----.|  |--. .---.-.--|  |.-----. .---.-.-----.-----.\n|   _|  ||__ --||     | |  _  |  _  ||__ --| |  _  |  _  |  _  |\n|__| |__||_____||__|__| |___._|_____||_____| |___._|   __|   __|\n                                                   |__|  |__|\n-------------------  网页全屏、优化插入脚本  -------------------\n"),circulator(500,10,createStyle,"create-style");